<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sathyadarshana Astrology Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to bottom right, #f9fafb, #ffffff);
      user-select: none;
      transition: background 0.3s;
    }
    .icon-btn {
      @apply inline-flex items-center justify-center p-2 rounded-full bg-indigo-50 hover:bg-indigo-100 text-indigo-700;
      transition: background 0.2s;
    }
    .toast {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      z-index: 50;
      min-width: 180px;
      padding: 0.75rem 1.25rem;
      background: #4f46e5;
      color: #fff;
      border-radius: 0.5rem;
      font-weight: 500;
      box-shadow: 0 2px 10px rgba(0,0,0,0.07);
      opacity: 0.94;
      display: none;
      align-items: center;
      gap: 0.75rem;
    }
    .dark-mode {
      background: linear-gradient(to bottom right, #232946, #121212);
      color: #f8fafc;
    }
  </style>
</head>
<body class="text-gray-800">
  <!-- Navbar -->
  <nav class="bg-white shadow mb-6 sticky top-0 z-20">
    <div class="max-w-4xl mx-auto px-4 py-3 flex justify-between items-center">
      <div class="text-xl font-bold text-indigo-700 tracking-wide">ğŸ”­ Sathyadarshana</div>
      <div class="flex items-center space-x-3">
        <a href="#" class="text-indigo-600 hover:text-indigo-900 px-3 py-2 font-medium">Dashboard</a>
        <a href="#birthplace" class="text-indigo-600 hover:text-indigo-900 px-3 py-2 font-medium">Birthplace Finder</a>
        <a href="#about" class="text-indigo-600 hover:text-indigo-900 px-3 py-2 font-medium">About</a>
        <!-- Multi-language Icon -->
        <button class="icon-btn" title="Change Language" id="langBtn">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2m0 14v2m7-7h2m-18 0H3m14.778-5.778l1.415-1.415m-12.02 0l1.415 1.415m12.02 12.02l-1.415-1.415m-12.02 0l1.415-1.415M8 12a4 4 0 118 0 4 4 0 01-8 0z"/>
          </svg>
        </button>
        <!-- Dark Mode Toggle -->
        <button class="icon-btn" title="Toggle Dark Mode" id="darkBtn">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2m0 14v2m9-9h-2M5 12H3m15.364-6.364l-1.414 1.414M5.636 18.364l-1.414-1.414m0-12.02l1.414 1.415M18.364 5.636l1.415-1.415M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <div class="max-w-4xl mx-auto p-6">
    <h1 class="text-3xl font-bold text-center text-indigo-700 mb-4">Sathyadarshana Astrology Dashboard</h1>
    <p class="text-center text-gray-600 mb-6">Explore planetary wisdom with KP & NASA-based insights â€” secure & protected</p>

    <!-- KP Chart Input Form -->
    <form id="kp-form" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-6">
      <h2 class="text-xl font-semibold text-indigo-600 mb-3">ğŸ”® KP Sub-lord Chart</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1" for="name">Full Name</label>
          <input id="name" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="text" placeholder="e.g. Saman Perera" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1" for="dob">Date of Birth</label>
          <input id="dob" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="date" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1" for="tob">Time of Birth</label>
          <input id="tob" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="time" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1" for="location">Birth Location</label>
          <input id="location" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="text" placeholder="City, Country" required>
        </div>
      </div>
      <button class="mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded" type="submit">
        Generate Chart
      </button>
    </form>

    <!-- KP Chart Output -->
    <div id="kp-chart-result"></div>

    <!-- Birthplace Finder Section -->
    <div id="birthplace" class="mt-10">
      <h2 class="text-xl font-semibold text-indigo-600 mb-3">ğŸŒ Birthplace Finder</h2>
      <form id="birthplace-form" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="b-city">City / Village</label>
            <input id="b-city" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="text" required>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="b-country">Country</label>
            <input id="b-country" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="text" required>
          </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="b-district">Province / District (Optional)</label>
            <input id="b-district" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="text">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="b-lat">Latitude (Optional)</label>
            <input id="b-lat" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="text">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="b-lon">Longitude (Optional)</label>
            <input id="b-lon" class="shadow border rounded w-full py-2 px-3 text-gray-700" type="text">
          </div>
        </div>
        <button class="mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded" type="submit">
          Save Location
        </button>
      </form>
    </div>

    <!-- Planetary Demo -->
    <div class="bg-white shadow p-4 rounded mb-6">
      <h2 class="text-xl font-semibold text-indigo-600 mb-2">ğŸ“… Planetary Positions (Demo)</h2>
      <ul class="list-disc list-inside text-gray-700">
        <li>Sun â€“ Gemini</li>
        <li>Moon â€“ Libra</li>
        <li>Mercury â€“ Taurus</li>
        <li>Venus â€“ Cancer</li>
        <li>Mars â€“ Aries</li>
        <li>Jupiter â€“ Pisces</li>
        <li>Saturn â€“ Aquarius</li>
        <li>Rahu â€“ Pisces</li>
        <li>Ketu â€“ Virgo</li>
      </ul>
    </div>

    <!-- Footer -->
    <p id="about" class="text-center text-xs text-gray-400 mt-8 mb-2">
      Powered by Sathyadarshana Jyotishya Engine â€¢ Â© 2025 Sathyadarshana Global Spiritual Network.<br>
      All astrological content and code are protected. Unauthorized copying, scraping, or replication is strictly prohibited.
    </p>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

  <!-- Language Modal -->
  <div id="langModal" class="fixed inset-0 z-40 bg-black bg-opacity-40 flex items-center justify-center hidden">
    <div class="bg-white rounded-lg shadow-lg p-6 w-80 max-w-full">
      <h3 class="text-lg font-bold text-indigo-700 mb-2">ğŸŒ Select Language</h3>
      <div class="grid grid-cols-2 gap-3 mb-5">
        <button class="bg-indigo-100 hover:bg-indigo-200 text-indigo-800 font-semibold px-3 py-2 rounded" onclick="setLanguage('en')">English</button>
        <button class="bg-indigo-100 hover:bg-indigo-200 text-indigo-800 font-semibold px-3 py-2 rounded" onclick="setLanguage('si')">à·ƒà·’à¶‚à·„à¶½</button>
        <button class="bg-indigo-100 hover:bg-indigo-200 text-indigo-800 font-semibold px-3 py-2 rounded" onclick="setLanguage('ta')">à®¤à®®à®¿à®´à¯</button>
        <button class="bg-indigo-100 hover:bg-indigo-200 text-indigo-800 font-semibold px-3 py-2 rounded" onclick="setLanguage('hi')">à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
      </div>
      <button class="w-full mt-2 bg-gray-200 hover:bg-gray-300 py-2 rounded" onclick="closeLangModal()">Close</button>
      <p class="text-xs text-gray-400 text-center mt-2">Language API integration ready.</p>
    </div>
  </div>

  <!-- JS Logic -->
  <script>
    // Toast notification logic
    function showToast(msg, icon) {
      const toast = document.getElementById('toast');
      toast.innerHTML = icon ? icon + msg : msg;
      toast.style.display = "flex";
      setTimeout(() => { toast.style.display = "none"; }, 2200);
    }

    // Language modal logic
    document.getElementById('langBtn').onclick = function() {
      document.getElementById('langModal').classList.remove('hidden');
    };
    function closeLangModal() {
      document.getElementById('langModal').classList.add('hidden');
    }
    function setLanguage(lang) {
      // Placeholder: integrate your translation API here
      let msg = '';
      switch (lang) {
        case 'en':
          msg = "English Interface Activated";
          break;
        case 'si':
          msg = "à·ƒà·’à¶‚à·„à¶½ à¶…à¶­à·”à¶»à·”à¶¸à·”à·„à·”à¶«à¶­ à·ƒà¶šà·Šâ€à¶»à·“à¶ºà¶ºà·’";
          break;
        case 'ta':
          msg = "à®¤à®®à®¿à®´à¯ à®‡à®©à¯à®Ÿà®°à¯à®ƒà®ªà¯‡à®¸à¯ à®‡à®¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯";
          break;
        case 'hi':
          msg = "à¤¹à¤¿à¤¨à¥à¤¦à¥€ à¤‡à¤‚à¤Ÿà¤°à¤«à¥‡à¤¸ à¤¸à¤•à¥à¤°à¤¿à¤¯";
          break;
        default:
          msg = "Language changed";
      }
      showToast(msg, "ğŸŒ ");
      closeLangModal();
      // Example: fetch('/api/setLanguage', {method:'POST', body: JSON.stringify({lang})})
    }

    // KP Chart Demo Result Generator
    function generateKPChart(data) {
      return {
        sun:   { sign: "Gemini", degree: "15Â°30'", nakshatra: "Ardra", subLord: "Venus" },
        moon:  { sign: "Libra",  degree: "02Â°12'", nakshatra: "Swati", subLord: "Mercury" },
        lagna: { sign: "Virgo",  degree: "18Â°10'", nakshatra: "Hasta", subLord: "Moon" }
      };
    }

    document.getElementById("kp-form").addEventListener("submit", function(e) {
      e.preventDefault();
      const chart = generateKPChart({});
      const res = document.getElementById("kp-chart-result");
      res.innerHTML = `
        <div class="mt-6 p-4 border rounded bg-white shadow">
          <h3 class="text-lg font-bold text-indigo-700 mb-2">ğŸ”® KP Sub-lord Chart Result</h3>
          <ul class="list-disc pl-5 text-gray-700">
            <li><strong>Sun:</strong> ${chart.sun.sign} ${chart.sun.degree} â€“ Nakshatra: ${chart.sun.nakshatra} (Sub: ${chart.sun.subLord})</li>
            <li><strong>Moon:</strong> ${chart.moon.sign} ${chart.moon.degree} â€“ Nakshatra: ${chart.moon.nakshatra} (Sub: ${chart.moon.subLord})</li>
            <li><strong>Lagna:</strong> ${chart.lagna.sign} ${chart.lagna.degree} â€“ Nakshatra: ${chart.lagna.nakshatra} (Sub: ${chart.lagna.subLord})</li>
          </ul>
        </div>
      `;
      showToast('KP Chart Generated!', "ğŸ”® ");
    });

    // Birthplace form demo
    document.getElementById("birthplace-form").addEventListener("submit", function(e) {
      e.preventDefault();
      showToast("Birthplace saved! (Demo only)", "ğŸŒ ");
    });

    // Dark mode toggle
    let dark = false;
    document.getElementById("darkBtn").onclick = function() {
      dark = !dark;
      document.body.classList.toggle("dark-mode", dark);
      showToast(dark ? "Dark Mode Enabled" : "Light Mode Enabled", "ğŸŒ— ");
    };

    // ESC to close modal
    window.addEventListener("keydown", function(e) {
      if (e.key === "Escape") closeLangModal();
    });
  </script>
</body>
</html>
